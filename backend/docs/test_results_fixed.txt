============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-9.0.1, pluggy-1.6.0 -- C:\Users\kokow\MyBookSpace\backend\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kokow\MyBookSpace\backend
collecting ... collected 14 items

tests/test_auth.py::TestAuthentication::test_user_registration_success PASSED [  7%]
tests/test_auth.py::TestAuthentication::test_user_registration_duplicate_email PASSED [ 14%]
tests/test_auth.py::TestAuthentication::test_user_registration_missing_fields PASSED [ 21%]
tests/test_auth.py::TestAuthentication::test_user_login_success PASSED   [ 28%]
tests/test_auth.py::TestAuthentication::test_user_login_invalid_credentials PASSED [ 35%]
tests/test_auth.py::TestAuthentication::test_admin_login_returns_admin_role PASSED [ 42%]
tests/test_loans.py::TestLoansAndCatalog::test_get_all_books PASSED      [ 50%]
tests/test_loans.py::TestLoansAndCatalog::test_create_book_as_admin PASSED [ 57%]
tests/test_loans.py::TestLoansAndCatalog::test_reserve_book_success PASSED [ 64%]
tests/test_loans.py::TestLoansAndCatalog::test_reserve_unavailable_book_fails PASSED [ 71%]
tests/test_loans.py::TestLoansAndCatalog::test_get_user_loans PASSED     [ 78%]
tests/test_loans.py::TestLoansAndCatalog::test_return_book_success PASSED [ 85%]
tests/test_loans.py::TestLoansAndCatalog::test_search_books_by_title PASSED [ 92%]
tests/test_loans.py::TestLoansAndCatalog::test_get_book_by_id PASSED     [100%]

============================== warnings summary ===============================
tests/test_auth.py: 18 warnings
tests/test_loans.py: 32 warnings
  C:\Users\kokow\MyBookSpace\backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3624: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

tests/test_auth.py: 4 warnings
tests/test_loans.py: 9 warnings
  C:\Users\kokow\MyBookSpace\backend\app\models.py:75: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    self.loan_date = datetime.utcnow()

tests/test_loans.py::TestLoansAndCatalog::test_reserve_book_success
tests/test_loans.py::TestLoansAndCatalog::test_reserve_unavailable_book_fails
  C:\Users\kokow\MyBookSpace\backend\app\routes\loans.py:41: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    book = Book.query.get(book_id)

tests/test_loans.py::TestLoansAndCatalog::test_reserve_book_success
tests/test_loans.py::TestLoansAndCatalog::test_get_user_loans
  C:\Users\kokow\MyBookSpace\backend\app\models.py:83: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    if datetime.utcnow() > self.expiration_date:

tests/test_loans.py::TestLoansAndCatalog::test_reserve_book_success
  C:\Users\kokow\MyBookSpace\backend\tests\test_loans.py:52: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    book = Book.query.get(book_id)

tests/test_loans.py::TestLoansAndCatalog::test_return_book_success
  C:\Users\kokow\MyBookSpace\backend\tests\test_loans.py:87: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    initial_available = Book.query.get(book_id).available_copies

tests/test_loans.py::TestLoansAndCatalog::test_return_book_success
  C:\Users\kokow\MyBookSpace\backend\app\routes\loans.py:122: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    loan = Loan.query.get(loan_id)

tests/test_loans.py::TestLoansAndCatalog::test_return_book_success
  C:\Users\kokow\MyBookSpace\backend\app\routes\loans.py:127: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    loan.return_date = datetime.utcnow()

tests/test_loans.py::TestLoansAndCatalog::test_return_book_success
  C:\Users\kokow\MyBookSpace\backend\tests\test_loans.py:98: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    book = Book.query.get(book_id)

tests/test_loans.py::TestLoansAndCatalog::test_get_book_by_id
  C:\Users\kokow\MyBookSpace\backend\app\routes\catalog.py:136: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    book = Book.query.get(book_id)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
====================== 14 passed, 73 warnings in 14.62s =======================
